autoload -Uz compinit

### Theme
DEFAULT_USER=`whoami`
ZSH_THEME=agnoster

### Oh-my-zsh
ZSH="${HOME}/.oh-my-zsh/"
source "${ZSH}oh-my-zsh.sh"

### Spell-correction
setopt correct

### History
HISTFILE=~/.histfile
HISTSIZE=10000
SAVEHIST=100000
setopt incappendhistory
setopt histignoredups
unsetopt sharehistory

# pushd settings
setopt pushdignoredups
unsetopt autopushd

### Generic environment
export EDITOR="/usr/bin/vim"
export PATH="${PATH}:${HOME}/.gem/ruby/2.1.0/bin/:/usr/bin/vendor_perl/"

### Generic aliases
alias ls='ls --color=auto'
alias whois='whois -H'
alias s='ssh'
alias grep='ag --skip-vcs-ignores'
alias ack='ag --skip-vcs-ignores'
alias ag='ag --skip-vcs-ignores'

### Temporary (hopefully) vim aliases due to broken powerline package
export EDITOR="PYTHONPATH=/usr/lib/python3.3/site-packages /usr/bin/vim"
alias vim='PYTHONPATH=/usr/lib/python3.3/site-packages vim'
alias gvim='PYTHONPATH=/usr/lib/python3.3/site-packages gvim'

### Rbenv
RBENV_BIN="${HOME}/.rbenv/bin"
if [ -f "$RBENV_BIN" ]; then
	export PATH="${RBENV_BIN}:${PATH}"
	eval "$(rbenv init -)"
fi

### Completion
compinit

### Syntax highlighting
source "${HOME}/.zsh-plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"

### Include Anchor-specific stuff, if available
[ -f $HOME/.zshrc.anchor ] && source $HOME/.zshrc.anchor
